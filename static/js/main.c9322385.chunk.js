(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{131:function(e,t,a){"use strict";a.r(t);var n=a(1),c=a(2),s=a.n(c),i=a(20),r=a.n(i),o=(a(31),a(11)),u=a.n(o),m=a(21),l=a(5),b=a(7),j=a.n(b),p=(a(51),a(22)),d=a(23),O=a(25),h=a(24),f=a.p+"static/media/chess.5b7e3715.png",g=function(e){Object(O.a)(a,e);var t=Object(h.a)(a);function a(){return Object(p.a)(this,a),t.apply(this,arguments)}return Object(d.a)(a,[{key:"render",value:function(){return Object(n.jsxs)("header",{className:"center",children:[Object(n.jsx)("img",{src:f,alt:""}),Object(n.jsx)("h1",{children:"Chess Game by RomJ55"})]})}}]),a}(s.a.Component),v=a(6),x=a(3),N=function(e){var t=e.position,a=e.timeoutHandler,s=e.run,i=Object(c.useState)(JSON.parse(localStorage.getItem("top"===t?"b_time":"w_time"))),r=Object(l.a)(i,2),o=r[0],u=r[1],m=Object(c.useState)(s),b=Object(l.a)(m,2),j=b[0],p=b[1];Object(c.useEffect)((function(){p(s);var e=null;return j?e=setInterval((function(){var e=JSON.parse(localStorage.getItem("top"===t?"b_time":"w_time"));u(e-1)}),1e3):j||0===o||clearInterval(e),function(){return clearInterval(e)}}),[j,o,s,t]),Object(c.useEffect)((function(){localStorage.setItem("top"===t?"b_time":"w_time",JSON.stringify(o))}),[t,o]);var d=x.a.create({slide:{animationName:v.zoomInRight,animationDuration:"2.6s"}});if(o>=0){var O=Math.floor(o/60),h=o%60;return h>9?Object(n.jsxs)("h3",{className:Object(x.b)(d.slide),children:["Time: ",O,":",h]}):Object(n.jsxs)("h3",{className:Object(x.b)(d.slide),children:["Time: ",O,":0",h]})}return a(),Object(n.jsx)("h3",{children:"Time: Times up!"})},w=function(e){var t=e.j,a=e.i,c=e.imagePath,s=e.type,i=e.selected,r=e.player,o=e.updateData,u=x.a.create({zoom:{animationName:v.zoomIn,animationDuration:"3s"},zoomImg:{animationName:v.zoomInDown,animationDuration:"2.5s"},selectedAnimation:{animationName:v.rubberBand,animationDuration:"1.1s"}});return Object(n.jsx)("button",{className:[Object(x.b)(u.zoom),"square"].join(" "),style:{background:(t+a)%2?"black":"white",border:i?"4px solid rgb(255,255,0)":"2px solid rgb(136, 127, 127)"},onClick:function(){j.a.post("https://chessapi55.herokuapp.com/api/chess/post",{x:a,y:t,player:r}).then((function(e){"Done!"===e.data&&o()})).catch((function(e){console.log(e)}))},children:Object(n.jsx)("img",{className:Object(x.b)(u.zoomImg),src:"/ReactChess"+c,alt:s})})},S=function(e){var t=e.squares,a=e.rows,s=e.columns,i=e.updateData,r=Object(c.useState)([]),o=Object(l.a)(r,2),u=o[0],m=o[1];Object(c.useEffect)((function(){m(t)}),[t]);for(var b=[],j=0;j<a;j++)for(var p=0;p<s;p++){var d=[j,p],O=-1,h="/pieces/dummy.png",f=-1,g=void 0,v=void 0;void 0!==u&&u.length>1&&u[j][p]&&(O=u[j][p].type,v=u[j][p].selected,h="/pieces/"+(f="white"===(g=u[j][p].player)?0:1)+"0"+O+".png",5===O&&u[j][p].incheck&&(h="/pieces/"+f+"0"+O+"c.png")),b.push(Object(n.jsx)(w,{j:p,i:j,imagePath:h,type:O,selected:v,player:g,updateData:i},d))}return Object(n.jsx)("div",{className:"board",children:b})},y=function(e){var t=e.turn,a=x.a.create({bounce:{animationName:v.zoomInUp,animationDuration:"2.7s"}}),c="".concat(t," Turn");return Object(n.jsx)("h2",{className:Object(x.b)(a.bounce),children:c.toUpperCase()})},I=function(e){var t=e.turn,a=e.position,c=e.giveUpHandler,s=e.run;return Object(n.jsxs)("div",{className:"footer",children:[Object(n.jsx)("button",{className:"gu-button",onClick:c,children:"Give up"}),Object(n.jsx)(y,{turn:t}),Object(n.jsx)(N,{position:a,timeoutHandler:c,run:s})]})},_=a.p+"static/media/w_won.e09776c3.png",k=a.p+"static/media/b_won.b15e077a.png",D=function(e){var t=e.winner,a=e.startGameHandler,c="Winner: "+t,s=x.a.create({bounce:{animationName:v.bounceIn,animationDuration:"0.8s"}});return Object(n.jsxs)("div",{className:[Object(x.b)(s.bounce),"start"].join(" "),children:[Object(n.jsx)("h1",{className:"center",style:{fontSize:50},children:c.toUpperCase()}),Object(n.jsx)("img",{src:"white"===t?_:k,alt:"",style:{width:320,padding:3}}),Object(n.jsx)("button",{className:"se-button",onClick:a,children:"Play again"})]})},z=a.p+"static/media/start_game.553f5179.jpg",C=function(e){var t=e.startGameHandler,a=x.a.create({bounce:{animationName:v.bounceIn,animationDuration:"0.8s"}});return Object(n.jsxs)("div",{className:[Object(x.b)(a.bounce),"start"].join(" "),children:[Object(n.jsx)("img",{src:z,style:{width:700},alt:""}),Object(n.jsx)("button",{className:"se-button",onClick:t,children:"Start game"})]})},H=function(e){var t=e.items,a=e.updateData,s=Object(c.useState)([[]]),i=Object(l.a)(s,2),r=i[0],o=i[1],u=Object(c.useState)([]),m=Object(l.a)(u,2),b=m[0],p=m[1],d=Object(c.useState)([]),O=Object(l.a)(d,2),h=O[0],f=O[1],g=Object(c.useState)([]),v=Object(l.a)(g,2),x=v[0],w=v[1];Object(c.useEffect)((function(){o(t.board),p(t.turn),f(t.game_running),w(t.is_winner)}),[t.board,t.turn,t.game_running,t.is_winner]),null===localStorage.getItem("b_time")&&localStorage.setItem("b_time",JSON.stringify(t.timer)),null===localStorage.getItem("w_time")&&localStorage.setItem("w_time",JSON.stringify(t.timer+2));var y=function(){j.a.post("https://chessapi55.herokuapp.com/api/chess/startend",{command:"end"}).then((function(e){"Game end"===e.data&&a()})).catch((function(e){console.log(e)}))},_=function(){j.a.post("https://chessapi55.herokuapp.com/api/chess/startend",{command:"start"}).then((function(e){"Game start"===e.data&&a()})).catch((function(e){console.log(e)})),localStorage.removeItem("b_time"),localStorage.removeItem("w_time")};return Object(n.jsx)(n.Fragment,{children:h?Object(n.jsxs)("div",{className:"game",children:[Object(n.jsx)("div",{className:"top-timer",children:Object(n.jsx)(N,{position:"top",timeoutHandler:y,run:"white"!==b})}),Object(n.jsx)(S,{squares:r,rows:t.rows,columns:t.columns,updateData:a}),Object(n.jsx)(I,{turn:b,position:"bottom",run:"white"===b,giveUpHandler:y})]}):x?Object(n.jsx)(D,{winner:t.winner,startGameHandler:_}):Object(n.jsx)(C,{startGameHandler:_})})};var J=function(){var e=Object(c.useState)([]),t=Object(l.a)(e,2),a=t[0],s=t[1],i=Object(c.useState)(!0),r=Object(l.a)(i,2),o=r[0],b=r[1],p=function(){var e=Object(m.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,j()("https://chessapi55.herokuapp.com/api/chess");case 2:t=e.sent,s(JSON.parse(t.data)),b(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();return Object(c.useEffect)((function(){p()}),[]),Object(n.jsxs)("div",{className:"container",children:[Object(n.jsx)(g,{}),o?Object(n.jsx)("h3",{className:"center",style:{marginTop:200,fontSize:40},children:"Loading....."}):Object(n.jsx)(H,{items:a,updateData:p})]})};r.a.render(Object(n.jsx)(s.a.StrictMode,{children:Object(n.jsx)(J,{})}),document.getElementById("root"))},31:function(e,t,a){},51:function(e,t,a){}},[[131,1,2]]]);
//# sourceMappingURL=main.c9322385.chunk.js.map