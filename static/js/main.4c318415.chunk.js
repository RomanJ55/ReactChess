(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{26:function(e,t,n){},46:function(e,t,n){},47:function(e,t,n){"use strict";n.r(t);var c=n(0),s=n(1),a=n.n(s),r=n(15),i=n.n(r),o=(n(26),n(6)),u=n.n(o),j=n(16),l=n(3),d=n(4),b=n.n(d),h=(n(46),n(17)),p=n(18),m=n(20),O=n(19),f=n.p+"static/media/chess.82a0327d.png",x=function(e){Object(m.a)(n,e);var t=Object(O.a)(n);function n(){return Object(h.a)(this,n),t.apply(this,arguments)}return Object(p.a)(n,[{key:"render",value:function(){return Object(c.jsxs)("header",{className:"center",children:[Object(c.jsx)("img",{src:f,alt:""}),Object(c.jsx)("h1",{children:"Chess Game by RomJ55"})]})}}]),n}(a.a.Component),g=function(e){var t=e.timer,n=e.timeoutHandler;if(t>=0){var s=Math.floor(t/60),a=t%60;return a>9?Object(c.jsxs)("h3",{children:["Time: ",s,":",a]}):Object(c.jsxs)("h3",{children:["Time: ",s,":0",a]})}return n(),Object(c.jsx)("h3",{children:"Time: Times up!"})},v=function(e){var t=e.j,n=e.i,s=e.imagePath,a=e.type,r=e.selected,i=e.player;return Object(c.jsx)("button",{className:"square",style:{background:(t+n)%2?"white":"black",border:r?"4px solid rgb(255,255,0)":"2px solid rgb(136, 127, 127)"},onClick:function(){b.a.post("https://chessapi55.herokuapp.com/api/chess/post",{x:n,y:t,player:i}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},children:Object(c.jsx)("img",{src:"/ReactChess"+s,alt:a})})},w=function(e){var t=e.squares,n=e.rows,a=e.columns,r=Object(s.useState)([]),i=Object(l.a)(r,2),o=i[0],u=i[1];Object(s.useEffect)((function(){u(t)}),[t]);for(var j=[],d=0;d<n;d++)for(var b=0;b<a;b++){var h=[d,b],p=-1,m="/pieces/dummy.png",O=-1,f=void 0,x=void 0;void 0!==o&&o.length>1&&o[d][b]&&(p=o[d][b].type,x=o[d][b].selected,m="/pieces/"+(O="white"===(f=o[d][b].player)?0:1)+"0"+p+".png",5===p&&o[d][b].incheck&&(m="/pieces/"+O+"0"+p+"c.png")),j.push(Object(c.jsx)(v,{j:b,i:d,imagePath:m,type:p,selected:x,player:f},h))}return Object(c.jsx)("div",{className:"board",children:j})},y=function(e){var t=e.turn,n="".concat(t," Turn");return Object(c.jsx)("h2",{children:n.toUpperCase()})},k=function(e){var t=e.turn,n=e.whiteTime,s=e.giveUpHandler;return Object(c.jsxs)("div",{className:"footer",children:[Object(c.jsx)("button",{className:"gu-button",onClick:s,children:"Give up"}),Object(c.jsx)(y,{turn:t}),Object(c.jsx)(g,{timer:n,timeoutHandler:s})]})},N=n.p+"static/media/w_won.900f06a0.png",S=n.p+"static/media/b_won.c8d4143d.png",C=function(e){var t=e.winner,n=e.startGameHandler,s="Winner: "+t;return Object(c.jsxs)("div",{className:"start",children:[Object(c.jsx)("h1",{className:"center",style:{fontSize:50},children:s.toUpperCase()}),Object(c.jsx)("img",{src:"white"===t?N:S,alt:"",style:{width:320,padding:3}}),Object(c.jsx)("button",{className:"se-button",onClick:n,children:"Play again"})]})},H=n.p+"static/media/start_game.553f5179.jpg",_=function(e){var t=e.startGameHandler;return Object(c.jsxs)("div",{className:"start",children:[Object(c.jsx)("img",{src:H,style:{width:700},alt:""}),Object(c.jsx)("button",{className:"se-button",onClick:t,children:"Start game"})]})},T=function(e){var t=e.items,n=Object(s.useState)([[]]),a=Object(l.a)(n,2),r=a[0],i=a[1],o=Object(s.useState)([]),u=Object(l.a)(o,2),j=u[0],d=u[1],h=Object(s.useState)([]),p=Object(l.a)(h,2),m=p[0],O=p[1],f=Object(s.useState)([]),x=Object(l.a)(f,2),v=x[0],y=x[1];Object(s.useEffect)((function(){i(t.board),d(t.turn),O(t.game_running),y(t.is_winner)}),[t.board,t.turn,t.game_running,t.is_winner]);var N=function(){b.a.post("https://chessapi55.herokuapp.com/api/chess/startend",{command:"end"}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},S=function(){b.a.post("https://chessapi55.herokuapp.com/api/chess/startend",{command:"start"}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return Object(c.jsx)("div",{children:m?Object(c.jsxs)("div",{className:"game",children:[Object(c.jsx)("div",{className:"top-timer",children:Object(c.jsx)(g,{timer:t.black_time,timeoutHandler:N})}),Object(c.jsx)(w,{squares:r,rows:t.rows,columns:t.columns}),Object(c.jsx)(k,{turn:j,whiteTime:t.white_time,giveUpHandler:N})]}):v?Object(c.jsx)(C,{winner:t.winner,startGameHandler:S}):Object(c.jsx)(_,{startGameHandler:S})})};var G=function(){var e=Object(s.useState)([]),t=Object(l.a)(e,2),n=t[0],a=t[1],r=Object(s.useState)(!0),i=Object(l.a)(r,2),o=i[0],d=i[1];return Object(s.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,b()("https://chessapi55.herokuapp.com/api/chess");case 2:t=e.sent,a(JSON.parse(t.data)),d(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),Object(c.jsxs)("div",{className:"container",children:[Object(c.jsx)(x,{}),o?Object(c.jsx)("h3",{className:"center",style:{marginTop:200,fontSize:40},children:"Loading....."}):Object(c.jsx)(T,{items:n})]})};i.a.render(Object(c.jsx)(a.a.StrictMode,{children:Object(c.jsx)(G,{})}),document.getElementById("root"))}},[[47,1,2]]]);
//# sourceMappingURL=main.4c318415.chunk.js.map