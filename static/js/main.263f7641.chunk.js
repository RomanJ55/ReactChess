(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{131:function(e,t,n){"use strict";n.r(t);var a=n(1),c=n(2),s=n.n(c),i=n(20),r=n.n(i),o=(n(31),n(11)),u=n.n(o),j=n(21),m=n(6),b=n(7),l=n.n(b),d=(n(51),n(22)),h=n(23),p=n(25),O=n(24),f=n.p+"static/media/chess.82a0327d.png",x=function(e){Object(p.a)(n,e);var t=Object(O.a)(n);function n(){return Object(d.a)(this,n),t.apply(this,arguments)}return Object(h.a)(n,[{key:"render",value:function(){return Object(a.jsxs)("header",{className:"center",children:[Object(a.jsx)("img",{src:f,alt:""}),Object(a.jsx)("h1",{children:"Chess Game by RomJ55"})]})}}]),n}(s.a.Component),g=function(e){var t=e.timer,n=e.timeoutHandler;if(t>=0){var c=Math.floor(t/60),s=t%60;return s>9?Object(a.jsxs)("h3",{children:["Time: ",c,":",s]}):Object(a.jsxs)("h3",{children:["Time: ",c,":0",s]})}return n(),Object(a.jsx)("h3",{children:"Time: Times up!"})},v=n(5),w=n(4),N=function(e){var t=e.j,n=e.i,c=e.imagePath,s=e.type,i=e.selected,r=e.player,o=w.a.create({zoom:{animationName:v.zoomIn,animationDuration:"3s"},zoomImg:{animationName:v.zoomInDown,animationDuration:"2.5s"},selectedAnimation:{animationName:v.rubberBand,animationDuration:"1.1s"}});return Object(a.jsx)("button",{className:[Object(w.b)(o.zoom),"square"].join(" "),style:{background:(t+n)%2?"black":"white",border:i?"4px solid rgb(255,255,0)":"2px solid rgb(136, 127, 127)"},onClick:function(){l.a.post("https://chessapi55.herokuapp.com/api/chess/post",{x:n,y:t,player:r}).then((function(e){console.log(e.data)})).catch((function(e){console.log(e)}))},children:Object(a.jsx)("img",{className:Object(w.b)(o.zoomImg),src:"/ReactChess"+c,alt:s})})},y=function(e){var t=e.squares,n=e.rows,s=e.columns,i=Object(c.useState)([]),r=Object(m.a)(i,2),o=r[0],u=r[1];Object(c.useEffect)((function(){u(t)}),[t]);for(var j=[],b=0;b<n;b++)for(var l=0;l<s;l++){var d=[b,l],h=-1,p="/pieces/dummy.png",O=-1,f=void 0,x=void 0;void 0!==o&&o.length>1&&o[b][l]&&(h=o[b][l].type,x=o[b][l].selected,p="/pieces/"+(O="white"===(f=o[b][l].player)?0:1)+"0"+h+".png",5===h&&o[b][l].incheck&&(p="/pieces/"+O+"0"+h+"c.png")),j.push(Object(a.jsx)(N,{j:l,i:b,imagePath:p,type:h,selected:x,player:f},d))}return Object(a.jsx)("div",{className:"board",children:j})},k=function(e){var t=e.turn,n=w.a.create({bounce:{animationName:v.zoomInUp,animationDuration:"2.7s"}}),c="".concat(t," Turn");return Object(a.jsx)("h2",{className:Object(w.b)(n.bounce),children:c.toUpperCase()})},S=function(e){var t=e.turn,n=e.whiteTime,c=e.giveUpHandler;return Object(a.jsxs)("div",{className:"footer",children:[Object(a.jsx)("button",{className:"gu-button",onClick:c,children:"Give up"}),Object(a.jsx)(k,{turn:t}),Object(a.jsx)(g,{timer:n,timeoutHandler:c})]})},z=n.p+"static/media/w_won.900f06a0.png",C=n.p+"static/media/b_won.c8d4143d.png",H=function(e){var t=e.winner,n=e.startGameHandler,c="Winner: "+t,s=w.a.create({bounce:{animationName:v.bounceIn,animationDuration:"0.8s"}});return Object(a.jsxs)("div",{className:[Object(w.b)(s.bounce),"start"].join(" "),children:[Object(a.jsx)("h1",{className:"center",style:{fontSize:50},children:c.toUpperCase()}),Object(a.jsx)("img",{src:"white"===t?z:C,alt:"",style:{width:320,padding:3}}),Object(a.jsx)("button",{className:"se-button",onClick:n,children:"Play again"})]})},_=n.p+"static/media/start_game.553f5179.jpg",I=function(e){var t=e.startGameHandler,n=w.a.create({bounce:{animationName:v.bounceIn,animationDuration:"0.8s"}});return Object(a.jsxs)("div",{className:[Object(w.b)(n.bounce),"start"].join(" "),children:[Object(a.jsx)("img",{src:_,style:{width:700},alt:""}),Object(a.jsx)("button",{className:"se-button",onClick:t,children:"Start game"})]})},T=function(e){var t=e.items,n=Object(c.useState)([[]]),s=Object(m.a)(n,2),i=s[0],r=s[1],o=Object(c.useState)([]),u=Object(m.a)(o,2),j=u[0],b=u[1],d=Object(c.useState)([]),h=Object(m.a)(d,2),p=h[0],O=h[1],f=Object(c.useState)([]),x=Object(m.a)(f,2),v=x[0],w=x[1];Object(c.useEffect)((function(){r(t.board),b(t.turn),O(t.game_running),w(t.is_winner)}),[t.board,t.turn,t.game_running,t.is_winner]);var N=function(){l.a.post("https://chessapi55.herokuapp.com/api/chess/startend",{command:"end"}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))},k=function(){l.a.post("https://chessapi55.herokuapp.com/api/chess/startend",{command:"start"}).then((function(e){console.log(e)})).catch((function(e){console.log(e)}))};return Object(a.jsx)("div",{children:p?Object(a.jsxs)("div",{className:"game",children:[Object(a.jsx)("div",{className:"top-timer",children:Object(a.jsx)(g,{timer:t.black_time,timeoutHandler:N})}),Object(a.jsx)(y,{squares:i,rows:t.rows,columns:t.columns}),Object(a.jsx)(S,{turn:j,whiteTime:t.white_time+2,giveUpHandler:N})]}):v?Object(a.jsx)(H,{winner:t.winner,startGameHandler:k}):Object(a.jsx)(I,{startGameHandler:k})})};var D=function(){var e=Object(c.useState)([]),t=Object(m.a)(e,2),n=t[0],s=t[1],i=Object(c.useState)(!0),r=Object(m.a)(i,2),o=r[0],b=r[1];return Object(c.useEffect)((function(){(function(){var e=Object(j.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,l()("https://chessapi55.herokuapp.com/api/chess");case 2:t=e.sent,s(JSON.parse(t.data)),b(!1);case 5:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()})),Object(a.jsxs)("div",{className:"container",children:[Object(a.jsx)(x,{}),o?Object(a.jsx)("h3",{className:"center",style:{marginTop:200,fontSize:40},children:"Loading....."}):Object(a.jsx)(T,{items:n})]})};r.a.render(Object(a.jsx)(s.a.StrictMode,{children:Object(a.jsx)(D,{})}),document.getElementById("root"))},31:function(e,t,n){},51:function(e,t,n){}},[[131,1,2]]]);
//# sourceMappingURL=main.263f7641.chunk.js.map